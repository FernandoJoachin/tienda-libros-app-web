(()=>{var e={868:()=>{document.addEventListener("DOMContentLoaded",(function(){$("#books-table").DataTable({language:{info:"Mostrando _START_ a _END_ de _TOTAL_ libros",infoEmpty:"Mostrando 0 a 0 de 0 libros",infoFiltered:"(filtrado de _MAX_ libros totales)",lengthMenu:"Mostrar _MENU_ libros"},columnDefs:[{orderable:!1,responsivePriority:1,targets:-1}]})}))},257:()=>{function e(e){const t=("; "+document.cookie).split(`; ${e}=`);if(2===t.length)return t.pop().split(";").shift()}function t(e,t,n){const o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3);const a="expires="+o.toUTCString();document.cookie=`${e}=${t}; ${a}; path=/`}function n(){const t=e("cart")?JSON.parse(e("cart")):[],n=document.querySelector("#articulos"),o=document.getElementById("carrito-vacio");if(console.log("Número de elementos en el carrito:",t.length),n.innerHTML="",0===t.length)return o.style.display="block",void console.log("El carrito está vacío.");o.style.display="none",t.forEach((e,t)=>{const o=document.createElement("div");o.classList.add("carrito__articulo"),o.innerHTML=`\n            <input type="hidden" value="${e.id}" name="bookID[]">\n            <img src="build/imagenes/${e.imagen}" alt="Portada" class="carrito__articulo-imagen">\n            <p class="carrito__articulo-titulo">${e.title}</p>\n\n            <div class="cantidad__contenedor-incrementar-decrementar">\n                <i class="fa-solid fa-minus cantidad__btncolor decrement" data-index="${t}"></i>\n                <input id="cantidad-${t}" type="number" placeholder="1" value="${e.cantidad}" min="1" class="cantidad__input" name="bookCant[]" readonly>\n                <i class="fa-solid fa-plus cantidad__btncolor increment" data-index="${t}"></i>\n            </div>\n            \n            <p class="carrito__articulo-precio">$${e.price}</p>\n            <button class="carrito__articulo-eliminar" data-index="${t}">Eliminar</button>\n        `,n.appendChild(o)}),function(e){const t=document.getElementById("cantidad"),n=document.getElementById("precio"),o=e.reduce((e,t)=>e+t.cantidad,0),a=e.reduce((e,t)=>e+t.cantidad*parseFloat(t.price),0);t.textContent=o,n.textContent=a.toFixed(2)}(t),console.log("Elementos del carrito mostrados correctamente.")}document.addEventListener("DOMContentLoaded",(function(){document.querySelector("#articulos").addEventListener("click",(function(o){const a=o.target.dataset.index;o.target.classList.contains("decrement")&&void 0!==a&&function(o){const a=e("cart")?JSON.parse(e("cart")):[];o>=0&&o<a.length&&(a[o].cantidad>1&&a[o].cantidad--,t("cart",JSON.stringify(a),7),n())}(parseInt(a)),o.target.classList.contains("increment")&&void 0!==a&&function(o){const a=e("cart")?JSON.parse(e("cart")):[];o>=0&&o<a.length&&(a[o].cantidad++,t("cart",JSON.stringify(a),7),n())}(parseInt(a))}))})),document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".libro__enlace").forEach(n=>{n.addEventListener("click",(function(){!function(n){const o=e("cart")?JSON.parse(e("cart")):[],a=o.find(e=>e.title===n.title);a?a.cantidad+=1:(n.cantidad=1,o.push(n)),t("cart",JSON.stringify(o),7)}({title:n.parentElement.querySelector(".libro__titulo").innerText,price:n.parentElement.querySelector(".libro__precio").innerText.replace("$",""),imagen:n.parentElement.querySelector(".libro__imagen").getAttribute("src").replace("build/imagenes/",""),id:n.parentElement.querySelector(".libro__id").innerText})}))})})),window.location.pathname.includes("carrito.php")&&document.addEventListener("DOMContentLoaded",(function(){n()})),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".carrito__totales-reiniciar");e&&e.addEventListener("click",(function(){!function(){document.cookie="cart=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",n();const e=document.getElementById("cantidad"),t=document.getElementById("precio");e.textContent="0",t.textContent="0"}()}))})),document.addEventListener("DOMContentLoaded",(function(){document.querySelector("#articulos").addEventListener("click",(function(o){if(o.target.classList.contains("carrito__articulo-eliminar")){const a=o.target.dataset.index;null!=a&&function(o){const a=e("cart")?JSON.parse(e("cart")):[];console.log("Antes de eliminar:",a),a.splice(o,1),console.log("Después de eliminar:",a),t("cart",JSON.stringify(a),7),n()}(parseInt(a))}}))})),document.getElementById("botonAtras").addEventListener("click",(function(){window.history.back()}))},889:()=>{document.addEventListener("DOMContentLoaded",(function(){$.extend($.fn.dataTable.defaults,{language:{info:"Mostrando _START_ a _END_ de _TOTAL_ entradas",infoEmpty:"Mostrando 0 a 0 de 0 entradas",infoFiltered:"(filtrado de _MAX_ entradas totales)",lengthMenu:"Mostrar _MENU_ entradas",search:"Buscar:",zeroRecords:"No se encontraron registros coincidentes",paginate:{next:"&raquo",previous:"&laquo"}}})}))},357:()=>{(()=>{const e=document.querySelector(".fa-solid.fa-circle-user");e&&e.addEventListener("click",()=>{const e=document.querySelector(".dropwdown");e.classList.toggle("dropwdown-show");const t=window.getComputedStyle(e),n=document.querySelector(".navegacion");"block"===t.getPropertyValue("display")?n.classList.add("navegacion-hide"):n.classList.remove("navegacion-hide")})})()},962:()=>{(()=>{const e=document.querySelector(".input-cantidad");if(e){const t=document.querySelector("#increment"),n=document.querySelector("#decrement");t.addEventListener("click",()=>{e.value=parseInt(e.value)+1}),n.addEventListener("click",()=>{1!=e.value&&(e.value=parseInt(e.value)-1)})}})()},109:()=>{setTimeout((function(){document.querySelectorAll(".invalid-feedback").forEach((function(e){e.style.display="none"}))}),7e3)},414:()=>{(()=>{const e=document.querySelector(".dashboard__enlace-categoria");e&&e.addEventListener("click",()=>{document.querySelector(".dropwdown-sidebar").classList.toggle("dropwdown-show"),console.log("ogl")})})()},485:()=>{(()=>{const e=document.querySelector("#alertElement");if(e){const t=JSON.parse(e.getAttribute("data-response"));console.log(t),Swal.fire({icon:t.type,title:t.title,text:t.message,confirmButtonColor:"#0174F6"})}})()}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";n(889),n(868),n(109),n(962),n(485),n(357),n(414),n(257)})()})();
//# sourceMappingURL=main.js.map
